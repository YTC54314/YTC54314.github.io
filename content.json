{"meta":{"title":"Alice's Blog","subtitle":"Backend Engineer，Trying to keep memories in blogs. Cheers!","description":"","author":"Alice Chang","url":"http://example.com","root":"/"},"pages":[],"posts":[{"title":"Hexo + GitHub Pages 架設個人網誌","slug":"Learning Notes/Hexo/HexoAndGithub","date":"2023-09-03T13:38:07.000Z","updated":"2023-09-03T13:38:07.000Z","comments":true,"path":"2023/09/03/Learning Notes/Hexo/HexoAndGithub/","link":"","permalink":"http://example.com/2023/09/03/Learning%20Notes/Hexo/HexoAndGithub/","excerpt":"","text":"參考文件hexo官方GitHub Pages官方如何使用 Hexo + GitHub Pages 架設個人網誌如何在一台電腦使用多個Git帳號 實作在 github 建 repo 名稱必須為 {username}.github.io，並且設為 public建 YTC54314.github.io repository，並且設為 public git clone 到本機1$ git clone git@github-personal:YTC54314/YTC54314.github.io.git 為何使用 github-personal? 因為這是個人專案，所以要特鼻指定使用私人Git帳號。如何在一台電腦使用多個Git帳號的實作方法可以看這裡。 在專案下安裝 hexo 的 Git 相關套件1$ npm install hexo-deployer-git --save 修改跟目錄的 _config.yml 檔案的 Deployment 設定1234deploy: type: git repo: https://github.com/username/username.github.io.git branch: master 內容建置後部署12$ hexo cl // 清除之前建立的靜態檔案$ hexo g -d // 建立靜態頁面 + 部署至 GitHub 或 123$ hexo cl // 清除之前建立的靜態檔案$ hexo g // 建立靜態頁面$ hexo d // 部署至 GitHub 到瀏覽器開個人頁面就可以看到了url: https://ytc54314.github.io./","categories":[{"name":"Learning Notes","slug":"Learning-Notes","permalink":"http://example.com/categories/Learning-Notes/"},{"name":"Hexo","slug":"Learning-Notes/Hexo","permalink":"http://example.com/categories/Learning-Notes/Hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://example.com/tags/hexo/"},{"name":"github","slug":"github","permalink":"http://example.com/tags/github/"}]},{"title":"高級sql","slug":"Learning Notes/SQL/1","date":"2023-08-19T13:38:07.000Z","updated":"2023-08-19T16:59:57.784Z","comments":true,"path":"2023/08/19/Learning Notes/SQL/1/","link":"","permalink":"http://example.com/2023/08/19/Learning%20Notes/SQL/1/","excerpt":"","text":"七大類型文章分別取前五篇筆記的sql1234567891011121314select * from ( SELECT *, @row_number:=CASE WHEN @blog_type_no = blog_type THEN @row_number + 1 ELSE 1 END AS num, @blog_type_no:=blog_type as BlogType FROM leju_blog, (SELECT @blog_type_no:=0,@row_number:=0) as t WHERE blog_type in (0,1,2,3,4,5,6) ORDER BY blog_type desc, release_date desc) as rankingWHERE ranking.num&lt;=5 嚴謹的更新資料庫資料找出信義房屋的維護人，設定他們的expert_agency、business、license_verified_state 檢查查詢內容，看是否有企業訂單內的 maintain_uid 不存在於 leju_member 內。正常來說不應該出現。123456789101112# 正式站因為欄位語系問題，使用變數需要指定語系# 信義房屋企業訂單#SET @order_number = &#x27;B2023&#x27;;SET @order_number = &#x27;B2023&#x27; COLLATE utf8mb4_general_ci;SELECT DISTINCT(`leju_expert_order_bodys`.`maintain_uid`), `leju_member`.`id`, `leju_member`.`expert_agency`, `leju_member`.`license_verified_state`, `leju_member`.`business`FROM `leju_expert_order_bodys` LEFT JOIN `leju_member`ON `leju_expert_order_bodys`.`maintain_uid` = `leju_member`.`id`WHERE `leju_expert_order_bodys`.`order_number` = @order_numberAND `leju_expert_order_bodys`.`deleted_at` IS NULLAND `leju_expert_order_bodys`.`expire_date` &gt; NOW()AND `leju_member`.`id` IS NULLORDER BY `leju_member`.`id` ASC; 檢查要更新的內容123456789101112# 正式站因為欄位語系問題，使用變數需要指定語系# 信義房屋企業訂單#SET @order_number = &#x27;B2023&#x27;;SET @order_number = &#x27;B2023&#x27; COLLATE utf8mb4_general_ci;SELECT DISTINCT(`leju_expert_order_bodys`.`maintain_uid`), `leju_member`.`id`, `leju_member`.`expert_agency`, `leju_member`.`license_verified_state`, `leju_member`.`business`FROM `leju_expert_order_bodys` LEFT JOIN `leju_member`ON `leju_expert_order_bodys`.`maintain_uid` = `leju_member`.`id`WHERE `leju_expert_order_bodys`.`order_number` = @order_numberAND `leju_expert_order_bodys`.`deleted_at` IS NULLAND `leju_expert_order_bodys`.`expire_date` &gt; NOW()AND `leju_member`.`id` IS NOT NULLORDER BY `leju_member`.`id` ASC; 確認沒問題後，執行要更新的內容1234567891011121314151617181920# 正式站因為欄位語系問題，使用變數需要指定語系# 信義房屋企業訂單#SET @order_number = &#x27;B2023&#x27;;SET @order_number = &#x27;B2023&#x27; COLLATE utf8mb4_general_ci;# 信義房屋公司名稱#SET @expert_agency = &#x27;信義房屋&#x27;;SET @expert_agency = &#x27;信義房屋&#x27; COLLATE utf8mb4_general_ci;# 證照狀態統一修改為有證照#SET @license_verified_state = 1;SET @license_verified_state = 1 COLLATE utf8mb4_general_ci;# 信義房屋公司完整名稱#SET @business = &#x27;信義房屋股份有限公司&#x27;;SET @business = &#x27;信義房屋股份有限公司&#x27; COLLATE utf8mb4_general_ci;UPDATE `leju_expert_order_bodys` LEFT JOIN `leju_member`ON `leju_expert_order_bodys`.`maintain_uid` = `leju_member`.`id`SET `leju_member`.`expert_agency` = @expert_agency, `leju_member`.`license_verified_state` = @license_verified_state, `leju_member`.`business` = @businessWHERE `leju_expert_order_bodys`.`order_number` = @order_numberAND `leju_expert_order_bodys`.`deleted_at` IS NULLAND `leju_expert_order_bodys`.`expire_date` &gt; NOW()AND `leju_member`.`id` IS NOT NULL; 刪資料前先備份 先建一樣結構的新表CREATE TABLE [目的表] LIKE [來源表];1CREATE TABLE leju_expert_order_bodys_tmp_20230808 LIKE leju_expert_order_bodys; 把舊表資料同步到新表INSERT INTO [目的表] SELECT * FROM [來源表];1INSERT INTO leju_expert_order_bodys_tmp_20230808 SELECT * FROM leju_expert_order_bodys;","categories":[{"name":"Learning Notes","slug":"Learning-Notes","permalink":"http://example.com/categories/Learning-Notes/"},{"name":"SQL","slug":"Learning-Notes/SQL","permalink":"http://example.com/categories/Learning-Notes/SQL/"}],"tags":[{"name":"sql","slug":"sql","permalink":"http://example.com/tags/sql/"}]},{"title":"Linux指令","slug":"Learning Notes/Linux/Command","date":"2023-08-19T13:38:07.000Z","updated":"2023-09-03T08:40:08.624Z","comments":true,"path":"2023/08/19/Learning Notes/Linux/Command/","link":"","permalink":"http://example.com/2023/08/19/Learning%20Notes/Linux/Command/","excerpt":"","text":"看硬體容量 在當前目錄中查找所有子目錄的總大小find . -maxdepth 1 -type d -exec du -sh &#123;&#125; \\; 看當前資料夾的總量du -sh 查詢系統的空間使用率df -h 列出所有檔案，’h’是讓容量顯示單位ls -alh 網域查詢相關 查詢機器監聽的portnetstat -tulpn 查詢機器所有監聽，僅列出port 6379netstat -ano | find &quot;6379&quot; 解析此 domain 的 DNSdig dev-login.leju.trade 查找DNS - [nameserver] 的 [hostname] DNS 設定把 @ 拿掉，代表不去問中端的 DNS 伺服器，走平常網路的路線的話，就要等設定慢慢生效，全面套用大概四小時到一天不等dig [hostname] @[nameserver] 安裝 nc 指令sudo yum install nc 測試連線狀況nc -vz [hostname] [port[s] Nginx相關 查看nginx設定檔路徑nginx -t 重新加載和重啟指令nginx -s reload : reload：重新加載，reload 會重新加載配置文件，nginx 服務不會中斷。而且 reload 時會測試 conf 語法等，如果出錯會 rollback 用上一次正確配置文件保持正常運行。/etc/init.d/nginx restart : restart：重啟（先 stop 後 start），會重啟 nginx 服務。這個重啟會造成服務瞬間的中斷，如果配置文件出錯會導致服務啟動失敗，就是更長時間的服務中斷。 時區相關 查看時區date 查看時區設定timedatectl status 查看時區列表timedatectl list-timezones 設定為台灣時區sudo timedatectl set-timezone Asia/Taipei","categories":[{"name":"Learning Notes","slug":"Learning-Notes","permalink":"http://example.com/categories/Learning-Notes/"},{"name":"Linux","slug":"Learning-Notes/Linux","permalink":"http://example.com/categories/Learning-Notes/Linux/"},{"name":"Command","slug":"Learning-Notes/Linux/Command","permalink":"http://example.com/categories/Learning-Notes/Linux/Command/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://example.com/tags/linux/"},{"name":"command","slug":"command","permalink":"http://example.com/tags/command/"}]},{"title":"Hexo Readme","slug":"Learning Notes/Hexo/Basic","date":"2023-08-06T13:38:07.000Z","updated":"2023-08-06T13:38:07.000Z","comments":true,"path":"2023/08/06/Learning Notes/Hexo/Basic/","link":"","permalink":"http://example.com/2023/08/06/Learning%20Notes/Hexo/Basic/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartFile Location1$ cd C:\\Users\\alice\\nginx_hexo_alice_blog\\nginx-1.25.1\\hexo\\blog Create a new post1$ hexo new &quot;My New Post&quot; More info: Writing、hexo關鍵字 Front-Matter、使用Markdown語法 Run server1$ hexo server More info: Server 清除之前建立的靜態檔案1$ hexo cl Generate static files12$ hexo g$ hexo generate More info: Generating Deploy to remote sites12$ hexo d$ hexo deploy More info: Deployment","categories":[{"name":"Learning Notes","slug":"Learning-Notes","permalink":"http://example.com/categories/Learning-Notes/"},{"name":"Hexo","slug":"Learning-Notes/Hexo","permalink":"http://example.com/categories/Learning-Notes/Hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://example.com/tags/hexo/"}]}],"categories":[{"name":"Learning Notes","slug":"Learning-Notes","permalink":"http://example.com/categories/Learning-Notes/"},{"name":"Hexo","slug":"Learning-Notes/Hexo","permalink":"http://example.com/categories/Learning-Notes/Hexo/"},{"name":"SQL","slug":"Learning-Notes/SQL","permalink":"http://example.com/categories/Learning-Notes/SQL/"},{"name":"Linux","slug":"Learning-Notes/Linux","permalink":"http://example.com/categories/Learning-Notes/Linux/"},{"name":"Command","slug":"Learning-Notes/Linux/Command","permalink":"http://example.com/categories/Learning-Notes/Linux/Command/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://example.com/tags/hexo/"},{"name":"github","slug":"github","permalink":"http://example.com/tags/github/"},{"name":"sql","slug":"sql","permalink":"http://example.com/tags/sql/"},{"name":"linux","slug":"linux","permalink":"http://example.com/tags/linux/"},{"name":"command","slug":"command","permalink":"http://example.com/tags/command/"}]}